# 支出わけっと

スキル向上を目的に、家計管理アプリケーション **支出わけっと** を作成しました。

これはシングルページアプリケーション (SPA) として作成しており、以下の技術を採用しております。<br>
フロントエンド：**TypeScript / Next.js**<br>
バックエンド：**PHP / Laravel**<br>
インフラ：**S3+CloudFront（静的サイト） / ECS（API）**<br>

開発環境には Docker を用いており、フロントエンドとバックエンドを分離したモノレポ構成で開発しています。

---

### １度の入力で、ふたつの視点。２度手間なしの、スマートな家計管理。

支出管理表と家計簿の機能を統合し、予算設定から実績管理、可視化まで一括で行える家計管理アプリケーションです。<br >
ユーザーモード（個人/共有）を切り替えることで、個人の家計とパートナー都の家計を柔軟に管理できます。

👩 家計簿をつけてはいるけど活用できていない<br >
🧑 恋人/夫婦の支払いの分担・清算に困っている<br >
こんな困りごとを解決するために作成したアプリケーションです。

サービス URL：https://waketto.com/

【 ゲストユーザーアカウント 】<br>
メールアドレス：waketto@sample.com<br>
パスワード：GuestAccount?1234

# 目次

1. [開発背景](#1開発背景)
2. [機能一覧](#2機能一覧)
3. [操作画面](#3画面操作)
4. [技術スタック](#4技術スタック)
5. [アプリ開発の振り返り](#5アプリ開発の振り返り)
6. [今後の展望](#6今後の展望)

## 1.開発背景

私は社会人になってから、いくつもの家計簿アプリを使って、家計管理を行ってきました。<br>
しかし、どのアプリを使用しても、以下の課題を感じていました。

### 課題 1：記録するだけでは不十分な家計簿

支出を記録することで、合計の出費を把握することはできます。

ですが、家計簿の結果から

- 自分の支出は多いのか少ないのか
- 蓄積された記録をどのように活かせばいいのか

が分からず、「お金が貯まっている実感」を得ることができませんでした。

この原因は**事前に予算を設定していない**ことだと考えています。<br>
予算がないため、「何にいくら使っていいか」の基準がなく、支出の適切性を判断できなかったのです。

### 課題 2：パートナーとの煩雑な精算処理

パートナーと二人暮らしをしていた際、生活費をそれぞれで支払い、月末に精算していました。<br>
しかし、この精算作業は煩雑で、手間なく管理できる方法を探していました。

### 解決策: 統合型の家計管理アプリ

これらの課題を解決するため、以下の機能を持つアプリケーションを開発しました。

1. **予算管理機能**: カテゴリー別に予算を設定し、実績と比較
2. **個人/共有モード**: 1 つのアプリで個人と共有の家計を管理
3. **支払い担当者の記録**: 誰が支払ったかを記録し、自動精算を実現

ラクに、でも効果的な家計管理を行える。<br>
そんな体験をユーザーに提供すべく、本 Web サービスの開発しました。

## 2.機能一覧

- 認証

  - ログイン / ログアウト
    - AWS Cognito による認証
    - JWT トークンベース
    - トークンの自動リフレッシュ（セッション維持）
  - ユーザー登録
    - メールアドレスとパスワードで登録
    - 確認コードによるメールアドレス検証

- アカウント管理

  - ユーザー名の変更
  - パートナー連携 / 解除
  - パスワードの変更 / リセット
  - メールアドレスの変更
  - アカウント削除

- ユーザーモード切り替え

  - 個人モード
    - ログインユーザーが登録した明細のみ表示
  - 共有モード
    - ログインユーザーとそのパートナーが登録した明細が表示
    - 支払い担当者を記録し、分担を可視化

- 明細管理

  - 明細の登録 / 更新 / 削除
  - ファイナンスモード切り替えによる表示変更
  - 明細の表示（月次ビュー）

    - テーブル形式での明細一覧表示
    - カテゴリー別円グラフによる支出割合の可視化
    - 月間合計金額の表示

  - 明細の表示（年次ビュー）

    - カテゴリー別・月別の支出推移を棒グラフで可視

- 予算管理

  - カテゴリー別に予算の登録 / 更新
  - 月別予算消化状況の表示
  - 残予算の自動計算

- サブスクリプション管理

  - サブスクリプション登録 / 更新 / 削除
  - 登録したサブスクリプションを月次明細に自動反映

## 3.画面

### 3-1.アカウント作成 / ログイン

#### アカウント作成

[gif 入れる]

**機能**

- メールアドレス認証

  - アカウントの新規作成には「メールアドレス認証」を採用しました。<br>
    これにより不正にアカウントを作成することを防ぎ、セキュリティ面の向上を図りました。

- リアルタイムバリデーション

  - パスワードにはリアルタイムバリデーションを導入しました。<br>
    これによりパスワードの設定ルールをフォーム送信前にユーザーに伝えることができ、UX の向上を図りました。

#### ログイン方法

[gif 入れる]

**機能**

- ログイン

  - 認証には AWS Cognito を採用しました。<br>
    これにより、セキュアな認証基盤を構築し、JWT トークンによる安全なセッション管理を実現しました。

### 3-2.支出管理 / 家計簿

#### 支出管理

[gif 入れる]

**機能**

- 明細の登録

  - 登録した明細は、カテゴリーごとに分類されて支出管理表に表示されます。
  - 必須項目が未入力の場合は保存ボタンを無効化し、意図しないデータの送信を防いでいます。

- 明細の表示（月次ビュー）

  - 登録した明細をテーブル形式で一覧表示します。

- 明細の編集・削除

  - 支出管理表の明細をクリックすると編集モーダルが表示され、値の変更や削除を行うことができます。

- トーストを使った結果表示

  - 操作結果をトースト通知で表示し、時間経過で自動的に消えることで UX の向上を図りました。

#### 家計簿

[gif 入れる]

**機能**

- 明細の表示（月次ビュー）

  - 登録した明細を、家計簿として可視化します。
  - カテゴリー別の円グラフで支出割合を視覚的に表示しています。

- 明細の表示（年次ビュー）

  - 月ごとにカテゴリー別で支出の推移を表示しています。
  - カテゴリー別・月別の支出推移を棒グラフで表示しています。<br>
    これにより、各カテゴリーの支出トレンドを一目で把握できます。

- 明細の登録・編集・削除

  - 支出管理と同じ明細操作をこのページでも行うことができます。

### 3-3.予算 / サブスクリプションの設定画面

### 3-4.アカウントの設定画面

## 4.技術スタック

### 4-1.使用技術一覧

#### フロントエンド

フロントエンドの開発言語として**TypeScript**を使用し、フレームワークとして使用したのは**Next.js**です。App Router を採用し、React Server Components (RSC) と Client Components を適切に使い分けています。

- [Next.js](https://nextjs.org) (15.5.2) - React フレームワーク (App Router)
- [React](https://reactjs.org) (19.1.0) - UI ライブラリ
- [TypeScript](https://www.typescriptlang.org/) (5 系) - 型安全性
- [AWS Amplify](https://docs.amplify.aws/) (6.15.6) - Cognito 認証
- [TailwindCSS](https://tailwindcss.com/) (4 系) - CSS フレームワーク
- [Radix UI](https://www.radix-ui.com/) - アクセシブルな UI コンポーネント
- [SWR](https://swr.vercel.app/) (2.3.6) - データフェッチング
- [Recharts](https://recharts.org/) (2.15.4) - チャート描画
- [date-fns](https://date-fns.org/) (4.1.0) - 日付処理
- [Lucide React](https://lucide.dev/) - アイコンライブラリ
- [Sonner](https://sonner.emilkowal.ski/) (2.0.7) - トースト通知
- [next-themes](https://github.com/pacocoursey/next-themes) (0.4.6) - ダークモード
- [ESLint](https://eslint.org/) (9.34.0) - リンター
- [Prettier](https://prettier.io/) (3.6.2) - フォーマッター

**フロントエンドの責任**

- AWS Cognito による認証（ログイン・ログアウト・サインアップ）
- Amplify によるトークン管理
- 認証フォームの UI
- JWT トークン付き API 呼び出し
- データの表示とユーザーインタラクション

#### バックエンド

バックエンドの開発言語には**PHP**、Web アプリケーションフレームワークには**Laravel**を利用しました。開発環境の構築には、**Docker**と**Docker Compose**を用いており、これを実行することで開発用のサーバーが起動し、データベースや API サーバーを含む環境が整います。

- [PHP](https://www.php.net/) (8.2+) - プログラミング言語
- [Laravel](https://laravel.com/) (12.0) - Web アプリケーションフレームワーク
- [MySQL](https://www.mysql.com/) (8.4) - リレーショナルデータベース
- [Composer](https://getcomposer.org/) - 依存関係管理
- [AWS SDK for PHP](https://aws.amazon.com/sdk-for-php/) (3.356) - AWS 連携
- [Firebase JWT](https://github.com/firebase/php-jwt) (6.11) - JWT 検証
- [PHPUnit](https://phpunit.de/) (11.5.3) - テストフレームワーク
- [Laravel Pint](https://laravel.com/docs/12.x/pint) (1.13) - コードスタイル整形
- [Laravel Sail](https://laravel.com/docs/12.x/sail) (1.41) - Docker 開発環境

**バックエンドの責任**

- JWT トークン検証（Cognito 発行トークン）
- データベース操作（CRUD）
- ビジネスロジック（予算計算、集計など）
- API エンドポイント提供
- データバリデーション

**認証**

認証には**AWS Amplify v6**を用い、Cognito 認証を実装しています。

### 4-2.データベース設計（ER 図）

ER 図を後から追加

### 4-3.インフラ構成図

**開発環境**

- [Docker](https://www.docker.com/) - コンテナ管理
- [Docker Compose](https://docs.docker.com/compose/) - マルチコンテナ管理
- [AWS Cognito](https://aws.amazon.com/cognito/) - 認証・認可サービス
- [Nginx](https://nginx.org/) - Web サーバー

**本番環境**

AWS のインフラ構成図を後から追加

## 5.アプリ開発の振り返り

## 6.今後の展望
